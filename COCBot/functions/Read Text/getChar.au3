;==============================================================================================================
;===Get Char===================================================================================================
;--------------------------------------------------------------------------------------------------------------
;Finds pixel color pattern of specific X and Y values, returns char if pixel color pattern found.
;--------------------------------------------------------------------------------------------------------------

Func getChar(ByRef $x, $y)

	Local $charWidth[54] = [2, 2, 2, 2, 2, 3,			_	;{space} i l I , j ; hardest cases
							7,5, 7,6, 6,5, 6,6, 6,6,	_	;Aa Bb Cc Dd Ee
							5,5, 6,5, 8,6, 6,			_	;Ff Gg Hh J
							7,5, 4,   10,10, 7,6, 6,6,	_	;Kk L  Mm Nn Oo
							6,5, 7,6, 7,5, 7,6, 6,6,	_	;Pp Qq Rr Ss Tt
							7,6, 7,5, 11,9, 7,6, 7,6,	_	;Uu Vv Ww Xx Yy
							7,4]							;Zz

	Local $charString[54] = [" ", "i", "l", "I", ",", "j", _
							"A", "a", "B", "b", "C", "c", "D", "d", "E", "e", _
							"F", "f", "G", "g", "H", "h", "J", _
							"K", "k", "L", "M", "m", "N", "n", "O", "o", _
							"P", "p", "Q", "q", "R", "r", "S", "s", "T", "t", _
							"U", "u", "V", "v", "W", "w", "X", "x", "Y", "y", _
							"Z", "z"]

	Local $charOffset[54][3][2] = _
[[[1,3], [1,7], [2,5]], [[1,1], [1,2], [1,8]], [[1,2], [0,2], [1,7]], [[1,2], [2,5], [1,8]], [[1,7], [1,8], [1,9]], [[1,0], [1,4], [1,9]],	_	;{space} i l I , j
 [[1,8], [5,7], [6,8]], [[5,3], [1,4], [4,7]], [[6,1], [1,1], [3,4]], [[3,4], [4,7], [1,1]], [[1,1], [2,2], [5,3]], [[3,2], [5,8], [4,4]],	_ 	;Aa Bb Cc
 [[3,7], [6,1], [2,3]], [[3,4], [4,7], [1,3]], [[2,6], [2,2], [3,0]], [[1,2], [2,3], [4,6]], [[3,2], [1,8], [5,1]], [[5,1], [2,4], [2,8]],	_	;Dd Ee Ff
 [[4,4], [3,0], [4,5]], [[1,9], [4,8], [4,4]], [[5,8], [3,3], [1,1]], [[2,5], [3,4], [5,3]], 												_	;Gg Hh
 [[1,5], [4,7], [6,1]], [[2,3], [3,6], [6,0]], [[1,1], [2,1], [4,8]], [[2,7], [4,7], [1,0]], 												_	;J Kk L
 [[4,8], [6,1], [8,8]], [[1,8], [7,2], [5,4]], [[3,1], [5,4], [6,1]], [[5,3], [4,8], [2,5]], [[2,6], [2,0], [5,6]], [[2,4], [4,5], [3,2]],	_	;Mm Nn Oo
 [[4,2], [2,8], [5,3]], [[2,4], [1,10],[5,3]], [[4,9], [2,2], [6,4]], [[3,4], [4,8], [4,10]],[[4,2], [3,6], [6,1]], [[4,5], [2,6], [2,2]],	_	;Pp Qq Rr
 [[2,0], [5,4], [3,7]], [[2,2], [4,4], [2,7]], [[1,0], [4,2], [2,8]], [[2,1], [1,8], [4,6]], [[1,1], [1,8], [5,1]], [[2,3], [2,7], [4,3]],	_	;Ss Tt Uu
 [[2,2], [3,5], [5,7]], [[2,3], [3,6], [5,3]], [[2,3], [6,1], [9,8]], [[3,5], [5,7], [8,8]], [[1,2], [3,7], [5,4]], [[1,4], [2,8], [5,6]],	_	;Vv Ww Xx
 [[2,1], [5,5], [3,8]], [[1,8], [3,7], [3,10]],[[2,2], [1,7], [5,7]], [[1,4], [3,5], [2,8]]]													;Yy Zz

	Local $charColor[54][3] = _
[[0x3F4440,0x3F4440,0x3F4440],[0xF0F1F0,0x454945,0xE1E1E1],[0xFEFEFE,0x909290,0xFEFEFE],[0xFEFEFE,0xA3A5A3,0xE1E1E1],[0xE8E8E8,0xFEFEFE,0xA5A7A5],[0x9FA2A0,0xFDFEFD,0xFDFEFD], _	;{space} i l I , j
 [0xE7E7E7,0xDBDCDB,0xD5D6D5],[0xACAEAC,0xC2C3C2,0xDADBDA],[0xE2E3E2,0xFBFBFA,0xE8E9E8],[0x8D8F8D,0xCACBCA,0xFBFBFB],[0xE8E8E8,0xC9CAC9,0xDBDBDB],[0x818481,0x949694,0xECEDEC], _	;Aa Bb Cc
 [0xACAEAC,0xA0A2A0,0xB6B8B6],[0x8D8F8D,0xE4E5E4,0xABADAB],[0xA5A7A5,0xC3C5C3,0x767976],[0x404440,0xF5F5F5,0x7B7D7B],[0x515451,0xE1E1E1,0xC6C7C6],[0xC4C5C4,0xBFC0BF,0x535653], _	;Dd Ee Ff
 [0x707370,0xC4C5C4,0xD1D2D1],[0xD7D8D7,0xE6E7E6,0xE7E7E7],[0x5F635F,0x464A46,0xFAFAFA],[0x818481,0xD3D4D3,0x646764],															_	;Gg Hh
 [0x8E908E,0xC4C5C4,0xFBFBFB],[0xCFD0CF,0x828482,0x7C7E7C],[0xFBFBFB,0x646764,0xDBDCDB],[0xFDFDFD,0x828482,0x646764],															_	;J Kk L
 [0x8C8E8C,0x6A6D6A,0xA9ABA9],[0xD5D6D5,0x585C58,0xFFFFFF],[0x949694,0x707370,0xBFC0BF],[0xBEC0BE,0x8A8D8A,0x7A7D7A],[0xBBBDBB,0x888A88,0xD9DAD9],[0x888A88,0xA9ABA9,0x585C58], _	;Mm Nn Oo
 [0x636663,0x858785,0xE6E7E6],[0x8D908D,0xFFFFFF,0x898B89],[0xE6E7E6,0xABADAB,0xFFFFFF],[0x696C69,0xFFFFFF,0xC1C2C1],[0x575A57,0x939593,0xB8BAB8],[0x747774,0x5F635F,0x464A46], _	;Pp Qq Rr
 [0x8E908E,0x9C9E9C,0x7C7F7C],[0x707370,0xC3C4C3,0x909290],[0x707370,0xB7B8B7,0x969896],[0x767976,0xB6B8B6,0xA6A8A6],[0xFBFBFB,0x626562,0xBFC0BF],[0x525652,0xCBCCCB,0x888A88], _	;Ss Tt Uu
 [0x898C89,0x707370,0xE1E2E1],[0x595C59,0x525652,0xEEEEEE],[0xAEB0AE,0xC5C6C5,0x989A98],[0x8E918E,0x747674,0x797C79],[0x989B98,0x939593,0xB6B8B6],[0x8C8E8C,0x9EA09E,0x4C4F4C], _	;Vv Ww Xx
 [0xA1A3A1,0x8C8E8C,0xD5D6D5],[0x5D615D,0xEEEEEE,0xE8E9E8],[0x505450,0x707370,0x888B88],[0x757775,0x757875,0xDADBDA]]																;Yy Zz

	For $i = 0 to 53
		For $z = -1 to 2
			Local $pixel1[3] = [$x + $z + $charOffset[$i][0][0], $y + $charOffset[$i][0][1], Hex($charColor[$i][0], 6)]
			Local $pixel2[3] = [$x + $z + $charOffset[$i][1][0], $y + $charOffset[$i][1][1], Hex($charColor[$i][1], 6)]
			Local $pixel3[3] = [$x + $z + $charOffset[$i][2][0], $y + $charOffset[$i][2][1], Hex($charColor[$i][2], 6)]
			If boolPixelSearch($pixel1, $pixel2, $pixel3, 1) Then
				$x += $z + $charWidth[$i]
				Return $charString[$i]
			EndIf
		Next
	Next

Local $Charset_Kor[47][4][3] = [ _
 [[1,2,0xb0b2b0], [3,4,0xcacbca], [13,9,0xdfdfdf],[32,"클전용",0]], _; 클전용
 [[7,1,0xcecfce], [17,5,0xa7a8a7], [6,6,0x787b78],[21,"증원",0]], _; 증원
 [[9,1,0xa7a9a7], [6,2,0xadaead], [16,6,0xc4c5c4],[21,"약탈",0]], _; 약탈
 [[5,1,0xd6d7d6], [13,2,0xcecfce], [19,3,0xc1c2c1],[21,"아무",0]], _; 아무
 [[1,2,0xdedfde], [7,6,0xc4c5c4], [19,10,0x9b9d9b],[21,"일반",0]], _; 일반
 [[2,1,0xdddedd], [12,2,0xc1c2c1], [15,6,0x7d7f7d],[21,"파밍",0]], _; 파밍
 [[3,2,0xabadab], [12,3,0xc7c8c7], [5,5,0xdadada],[32,"수비용",0]], _; 수비용
 [[3,2,0xcacbca], [8,7,0xd7d8d7], [13,7,0xbabcba],[31,"방어용",0]], _; 방어용
 [[13,1,0xd1d2d1], [2,4,0xcbcccb], [3,8,0xbcbebc],[20,"님이",0]], _; 님이
 [[2,1,0xbfc1bf], [18,4,0xa0a2a0], [13,6,0xbebfbe],[20,"아처",0]], _; 아처
 [[5,1,0x959795], [14,3,0xc4c5c4], [19,5,0xb4b6b4],[21,"바바",0]], _; 바바
 [[8,1,0xa9aba9], [13,3,0x848784], [2,7,0xc9cac9],[28,"고블",0]], _; 고블
 [[5,2,0xc2c4c2], [12,4,0xdfdfdf], [20,6,0xc1c2c1],[20,"자이",0]], _; 자이
 [[5,1,0xf1f1f1], [19,2,0x777a77], [9,6,0x717471],[21,"자트",0]], _; 자트
 [[2,1,0x737673], [9,3,0xc1c2c1], [14,5,0xc2c3c2],[22,"월브",0]], _; 월브
 [[3,1,0xc1c2c1], [15,3,0xd3d4d3], [8,7,0x8f928f],[20,"풍선",0]], _; 풍선
 [[6,2,0xcacbca], [18,2,0xb1b3b1], [10,6,0xcdcecd],[23,"해골",0]], _; 해골
 [[5,1,0x9d9f9d], [18,1,0xe0e0e0], [13,7,0x717471],[21,"검풍",0]], _; 검풍
 [[3,2,0xa1a3a1], [17,2,0xa2a4a2], [16,7,0xc8c9c8],[21,"벌룬",0]], _; 벌룬
 [[5,1,0x959895], [14,3,0xf1f1f1], [20,3,0x6b6e6b],[21,"법사",0]], _; 법사
 [[6,1,0xc4c5c4], [13,5,0x7b7e7b], [17,6,0xbebfbe],[28,"위자",0]], _; 위자드
 [[2,2,0xd4d5d4], [10,5,0xb8b9b8], [3,9,0x828582],[10,"용",0]], _; 용
 [[2,1,0xd3d4d3], [12,4,0xe8e8e8], [18,6,0xcdcecd],[19,"드래",0]], _; 드래곤
 [[4,1,0xcdcecd], [12,4,0xc4c5c4], [8,8,0xcdcecd],[20,"힐러",0]], _; 힐러
 [[2,2,0xc9cac9], [13,3,0xa4a6a4], [6,6,0xabadab],[21,"치유",0]], _; 치유
 [[3,3,0xd5d6d5], [19,4,0xafb1af], [16,8,0xcacbca],[21,"호그",0]], _; 호그
 [[2,4,0xa1a3a1], [9,8,0xc9cac9], [17,8,0xd9dad9],[22,"호구",0]], _; 호구
 [[1,3,0xcecfce], [15,5,0xc7c8c7], [6,6,0xc5c6c5],[20,"발키",0]], _; 발키
 [[8,1,0xb0b1b0], [17,3,0x8f928f], [14,7,0xe4e5e4],[20,"골렘",0]], _; 골렘
 [[19,2,0x595c59], [5,3,0x939593], [9,7,0xc1c2c1],[20,"위치",0]], _; 위치
 [[2,1,0x6d706d], [17,2,0xc5c6c5], [8,7,0xb4b6b4],[20,"마녀",0]], _; 마녀
 [[5,1,0xcbcccb], [8,2,0xb4b6b4], [14,6,0x5f625f],[22,"라바",0]], _; 라바
 [[2,1,0x858785], [13,6,0xbabcba], [17,6,0xacaeac],[20,"미니",0]], _; 미니
[[2,1,0xc6c7c6], [15,3,0xb8b9b8], [20,7,0x7d807d],[22,"페카",0]], _; 페카
 [[0,3,0xB7B8B7], [1,8,0xCFD0CF], [1,6,0xFFFFFF],[2,"1",0]], _; 1
 [[2,0,0xA0A2A0], [5,2,0xF8F9F8], [2,8,0xCFD0CF],[5,"2",0]], _; 2
 [[6,0,0x414541], [6,1,0xBEC0BE], [0,2,0x949694],[5,"3",0]], _; 3
 [[4,0,0x646764], [4,1,0xFBFBFB], [1,2,0x4C4F4C],[5,"4",0]], _; 4
 [[3,0,0x6A6D6A], [5,1,0xBFC1BF], [3,9,0x454945],[6,"5",0]], _; 5
 [[3,1,0xBCBDBC], [6,2,0xADAFAD], [0,7,0x606360],[5,"6",0]], _; 6
 [[1,7,0xF6F7F6], [4,3,0x424642], [3,5,0x7A7C7A],[5,"7",0]], _; 7
 [[6,0,0x4C504C], [1,1,0xFAFAFA], [5,9,0x444844],[5,"8",0]], _; 8
 [[4,0,0xC4C5C4], [4,1,0xE5E6E5], [3,2,0x444744],[5,"9",0]], _; 9
 [[3,0,0xACAEAC], [2,1,0xDFE0DF], [3,9,0x454945],[6,"0",0]], _; 0
 [[2,2,0x828482], [0,3,0xFBFBFB], [1,6,0x848684],[5,"г",0]], _; г
 [[2,3,0xFBFBFB], [5,8,0xFEFEFE], [4,4,0xB0B2B0],[7,"л",0]], _; л
 [[0,0,0xFAFAFA], [0,8,0xFFFFFF], [0,1,0x5E615E],[3,"?",0]]] _; ?


	For $i = 0 to 46
		For $z = -1 to 2
			Local $pixel1[3] = [$x + $z + $Charset_Kor[$i][0][0], $y + $Charset_Kor[$i][0][1], Hex($Charset_Kor[$i][0][2], 6)]
			Local $pixel2[3] = [$x + $z + $Charset_Kor[$i][1][0], $y + $Charset_Kor[$i][1][1], Hex($Charset_Kor[$i][1][2], 6)]
			Local $pixel3[3] = [$x + $z + $Charset_Kor[$i][2][0], $y + $Charset_Kor[$i][2][1], Hex($Charset_Kor[$i][2][2], 6)]
			If boolPixelSearch($pixel1, $pixel2, $pixel3, 1) Then
				$x += $z + $Charset_Kor[$i][3][0]
				Return $Charset_Kor[$i][3][1]
			EndIf
		Next
	Next

	$x += 4
	Return "|"
EndFunc